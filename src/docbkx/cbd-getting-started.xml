<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE book [
<!-- Some useful entities borrowed from HTML -->
        <!ENTITY ndash "&#x2013;">
        <!ENTITY mdash "&#x2014;">
        <!ENTITY hellip "&#x2026;">

        <!-- Useful for describing APIs -->
        <!ENTITY GET '<command xmlns="http://docbook.org/ns/docbook">GET</command>'>
        <!ENTITY PUT '<command xmlns="http://docbook.org/ns/docbook">PUT</command>'>
        <!ENTITY POST '<command xmlns="http://docbook.org/ns/docbook">POST</command>'>
        <!ENTITY DELETE '<command xmlns="http://docbook.org/ns/docbook">DELETE</command>'>
        <!ENTITY PRODNAME "Cloud Big Data">
        <!ENTITY PRODABBV "CBD">
        
        <!-- changing authentication endpoints; define entities for US & UK rather than maintaining in text -->
        <!ENTITY ENDPOINT-US "https://identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-UK "https://lon.identity.api.rackspacecloud.com/v1.1/">
        <!ENTITY ENDPOINT-US-20 "https://identity.api.rackspacecloud.com/v2.0/">
        <!ENTITY ENDPOINT-UK-20 "https://lon.identity.api.rackspacecloud.com/v2.0/">

        <!-- Useful for specs -->
        <!ENTITY MAY '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MAY</emphasis>'>
        <!ENTITY SHOULD '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">SHOULD</emphasis>'>
        <!ENTITY MUST '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST</emphasis>'>
        <!ENTITY MUST_NOT '<emphasis xmlns="http://docbook.org/ns/docbook" role="strong">MUST NOT</emphasis>'>

        <!ENTITY CHECK '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Check_mark_23x20_02.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>

        <!ENTITY ARROW '<inlinemediaobject xmlns="http://docbook.org/ns/docbook">
                 <imageobject>
                  <imagedata fileref="img/Arrow_east.svg"
                             format="SVG" scale="60"/>
                </imageobject>
              </inlinemediaobject>'>
]>

<book version="5.0"
         xmlns="http://docbook.org/ns/docbook"
         xmlns:xlink="http://www.w3.org/1999/xlink"
         xmlns:xi="http://www.w3.org/2001/XInclude"
         xmlns:svg="http://www.w3.org/2000/svg"
         xmlns:m="http://www.w3.org/1998/Math/MathML"
         xmlns:html="http://www.w3.org/1999/xhtml"
         xml:id="cdb-getting-started">
    
    <?rax title.font.size="30px" subtitle.font.size="20px"?>
    <title>Rackspace Cloud Big Data Getting Started Guide</title>
    <?rax status.bar.text.font.size="40px"
          status.bar.text="Early Access"?>   
    <titleabbrev>Rackspace Cloud Big Data Getting Started
        Guide</titleabbrev>
     
    <info>
        <author>
            <personname>
                <firstname/>
                <surname/>
            </personname>
            <affiliation>
                <orgname>Rackspace Cloud</orgname>
            </affiliation>
        </author>       
        <copyright>
            <year>2013</year>
            <holder>Rackspace US, Inc.</holder>
        </copyright>
        <releaseinfo>API v1.0 Early Access</releaseinfo>
        <productname>Rackspace Cloud Big Data</productname>
        <pubdate>2013-09-04</pubdate>
        <legalnotice role="rs-api">
            <annotation>
                <remark>Copyright details are filled in by the doc build process.</remark>
            </annotation>
        </legalnotice>
        <abstract>
            <para>This document is intended for software developers
                interested in developing service management
                applications using the Rackspace &PRODNAME;
                Application Programming Interface
                    (<abbrev>API</abbrev>). </para>
        </abstract>
        <revhistory>
            <revision>
                <date>2013-09-04</date>
                <revdescription>
                    <itemizedlist spacing="compact">
                        <listitem>
                            <para>Initial Early Access (EA)
                                release.</para>
                        </listitem>
                    </itemizedlist>
                </revdescription>
            </revision>
        </revhistory>
    <raxm:metadata xmlns:raxm="http://docs.rackspace.com/api/metadata">
      <raxm:displayname>Getting Started Guide</raxm:displayname>
      <raxm:product version="v1.0">cbd</raxm:product>
      <raxm:priority>10</raxm:priority>
    </raxm:metadata>
    </info>
    <chapter xml:id="DB_Doc_Change_History">
        <title>Document Change History</title>            
        <para>This version of the Getting Started replaces and
            obsoletes all previous versions. The most recent changes
            are described in the table below:</para>
        <?rax revhistory?>
    </chapter>
      <chapter xml:id="CBD_Overview">
        <title>Overview</title>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Rackspace
            &PRODNAME; (&PRODABBV;) is an on-demand Hadoop service for
            the Rackspace open cloud. The service supports a RESTful
            API and alleviates the pain associated with deploying,
            managing, and scaling Hadoop clusters, allowing you to
            focus on your core business. </para>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">Rackspace
            Cloud Big Data is just as flexible and feature-rich as
            running Hadoop on your own. You will benefit from
            on-demand servers, utility-based pricing, and have access
            to the full set of Hadoop features and APIs. However, you
            will not have to worry about provisioning, growing, or
            maintaining your Hadoop infrastructure. Our service uses
            an environment, which is specifically optimized for
            Hadoop. This ensures that your jobs will run efficiently
            and reliably. Please note that you will still be
            responsible for developing, troubleshooting, and deploying
            your applications. </para>
        <remark xmlns:wadl="http://wadl.dev.java.net/2009/02"
            >Reviewers: If you have an architecture diagram for Cloud
            Big Data that you want included here, please send it to
            me.</remark>
        <para security="reviewers"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">The
            following figure shows an overview of Cloud Big Data: </para>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">There are
            two primary use cases for &PRODNAME;: </para>
        <itemizedlist xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <listitem>
                <para>To create on-demand infrastructure for
                    applications in production where physical servers
                    would be too costly and time-consuming to
                    configure and maintain.</para>
            </listitem>
            <listitem>
                <para>To develop, test, and pilot data analysis
                    applications.</para>
            </listitem>
        </itemizedlist>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02"> The
            benefits of &PRODNAME; include allowing you to: <itemizedlist>
                <listitem>
                    <para>Create or resize Hadoop clusters in minutes
                        and pay only for what you use.</para>
                </listitem>
                <listitem>
                    <para>Access Hortonworks Data Platform (HDP), an
                        enterprise-ready distribution that is 100%
                        Apache open source.</para>
                </listitem>
                <listitem>
                    <para>Provision and manage Hadoop using an
                        easy-to-use Control Panel and a ReSTful
                        API.</para>
                </listitem>
                <listitem>
                    <para>Seamlessly access data in Cloud Files
                        containers.</para>
                </listitem>
                <listitem>
                    <para>Gain interoperability with any third party
                        software tool that supports HDP.</para>
                </listitem>
                <listitem>
                    <para>Fanatical Support® on a 24x7x365 basis via
                        chat, phone or ticket.</para>
                </listitem>
            </itemizedlist>
        </para>
        <para>Follow the steps described in this guide to get started
            using the Rackspace &PRODNAME; API.</para>
        <section xml:id="core_concepts">
            <title>Early Access Program</title>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                Early Access program enables customers and Rackers, by
                invitation, to test an early version of the product
                and provide feedback of the product and capabilities.
                The &PRODNAME; Early Access Program is a
                pre-production service offering covered by the Beta
                Services terms (<link
                    xlink:href="http://www.rackspace.com/information/legal/testterms/"
                    >
                    rackspace.com/information/legal/testterms/</link>)
                in our Rackspace Cloud Terms of Service.</para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02"> Early
                Access users must meet the following criteria:
                    <itemizedlist spacing="compact">
                    <listitem>
                        <para>A Rackspace Cloud account.</para>
                    </listitem>
                    <listitem>
                        <para>Prior knowledge of HTTP/1.1
                            conventions.</para>
                    </listitem>
                    <listitem>
                        <para>Basic familiarity with Cloud and ReSTful
                            APIs.</para>
                    </listitem>
                    <listitem>
                        <para>A willingness to provide feedback to
                            Rackspace’s Product and Product Marketing
                            functions.</para>
                    </listitem>
                </itemizedlist>
            </para>
            <para>The Early Access Program has some limitations. </para>
            <para>By using the &PRODNAME; API, you agree and
                understand that:</para>
            <itemizedlist>
                <listitem>
                    <para>There is no charge for this service during
                        the Early Access period.</para>
                </listitem>
                <listitem>
                    <para>If you participate in this Early Access
                        Program, you will receive a notification prior
                        to general availability.</para>
                </listitem>
                <listitem>
                    <para>There is no Service Level Agreement.</para>
                </listitem>
                <listitem>
                    <para>The API contract is not locked and may
                        change during the Early Access Program.
                        Rackspace will notify customers in Release
                        Notes when and if the contract does change.
                    </para>
                </listitem>
                <listitem>
                    <para>Support is available from 8 AM - 5 PM
                        (Central Time) Monday - Friday.</para>
                </listitem>
            </itemizedlist>
        </section>
 <!--       <section xml:id="Pricing_SLA-d1e1362">
            <title>Pricing and Service Level</title>
            <para>&PRODNAME; is part of the Rackspace Cloud and your
                use through the API will be billed as per the pricing
                schedule at <link
                    xlink:href="http://www.rackspace.com/cloud/public/databases/pricing"
                    >http://www.rackspace.com/cloud/public/databases/pricing</link>.
                Cloud Servers is also part of the Rackspace Cloud and
                your use through the Cloud Control Panel will be
                billed as per the pricing schedule at <link
                    xlink:href="http://www.rackspace.com/cloud/public/servers/pricing"
                    >http://www.rackspace.com/cloud/public/servers/pricing</link>.</para>
            <para>The Service Level Agreements (SLAs) for Cloud
                Databases and Cloud Servers are available at <link
                    xlink:href="http://www.rackspace.com/cloud/legal/sla/#cloud_databases"
                    >http://www.rackspace.com/cloud/legal/sla/#cloud_databases</link>
                and <link
                    xlink:href="http://www.rackspace.com/cloud/legal/sla"
                    >http://www.rackspace.com/cloud/legal/sla</link>
                respectively.</para>
        </section>  -->
        <section xml:id="Prerequisites_Examples">
            <title>Prerequisites for Running Examples</title>
            <para>In order to run the examples in this guide, you must
                have the following prerequisites: <itemizedlist
                    spacing="compact">
                    <listitem>
                        <para>Rackspace Cloud account</para>
                    </listitem>
                    <listitem>
                        <para>Rackspace Cloud username and password,
                            as specified during registration</para>
                    </listitem>
                </itemizedlist></para>
        </section>
    </chapter>
    <chapter xml:id="DB_Sending_API_Requests">
        <title>Send Requests to the API</title>
        <para>You have several options for sending requests through an
            API: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para>Developers and testers may prefer to use cURL,
                    the command-line tool from <link
                        xlink:href="http://curl.haxx.se/"
                        >http://curl.haxx.se/</link>. </para>
                <para>With cURL you can send HTTP requests and receive
                    responses back from the command line. </para>
            </listitem>
            <listitem>
                <para>If you like to use a more graphical interface,
                    the ReST client for Firefox also works well for
                    testing and trying out commands, see <link
                        xlink:href="https://addons.mozilla.org/en-US/firefox/addon/restclient/"
                        >https://addons.mozilla.org/en-US/firefox/addon/restclient/</link>. </para>
            </listitem>
            <listitem>
                <para>You can also download and install rest-client, a
                    Java application to test ReSTful web services,
                    from <link
                        xlink:href="http://code.google.com/p/rest-client/"
                        >http://code.google.com/p/rest-client/</link>. </para>
            </listitem>
        </itemizedlist>
        <section xml:id="DB_using-curl-cli">
            <title>Send API Requests Using cURL</title>
            <para>cURL is a command-line tool that is available on
                most UNIX®-like environments and Mac OS X® and can be
                downloaded for Windows® in order to interact with the
                ReST interfaces. For more information on cURL, visit
                    <link xlink:href="http://curl.haxx.se/"
                    >http://curl.haxx.se/</link>. </para>
            <para>cURL allows you to transmit and receive HTTP requests and responses from the
                command-line or from within a shell script. This makes it possible to work with the ReST API
                directly without using one of the client APIs. </para>
            <para>The following cURL command-line options will be used
                in this guide to run the examples:</para>
            <variablelist>
                <title>cURL Command-Line Options</title>
                <varlistentry>
                    <term><option>-d</option></term>
                    <listitem>
                        <para>Sends the specified data in a post
                            request to the HTTP server.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term><option>-i</option></term>
                    <listitem>
                        <para>Includes the HTTP header in the
                            output.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term><option>-H HEADER</option></term>
                    <listitem>
                        <para>Specify an HTTP header in the request.</para>
                    </listitem>
                </varlistentry>
                <varlistentry>
                    <term><option>-X</option></term>
                    <listitem>
                        <para>Specifies the request method to use when
                            communicating with the HTTP server. The
                            specified request is used instead of the
                            default method, which is GET. For example,
                                <option>-X PUT</option> specifies to
                            use the PUT request method.</para>
                    </listitem>
                </varlistentry>
            </variablelist>
            <note>
                <para>If you have the tools, you can run the cURL JSON
                    request examples with the following options to
                    format the output from cURL: <command>&lt;curl
                        JSON request example> | python
                        -mjson.tool</command>.</para>
            </note>
        </section>
        <section xml:id="DB_copy_paste_examples">
            <title>Copying and Pasting cURL Request Examples into a
                Terminal Window</title>
            <para>To run the cURL request examples shown in this guide
                on Linux or Mac systems, copy and paste each example
                from the HTML version of this guide into an ASCII
                editor (for example <emphasis role="bold"
                    >vi</emphasis> or <emphasis role="bold"
                    >TextEdit</emphasis>). Then modify each example
                with your required account information and so forth,
                as detailed in this guide.</para>
            <note>
                <para>The carriage returns in the cURL request
                    examples that are part of the cURL syntax are
                    escaped with a backslash ('\') in order to avoid
                    prematurely terminating the command. However you
                    should not escape carriage returns inside the xml
                    or json message within the command.</para>
            </note>
            <para>Consider the following cURL Authenticate Request:
                XML example that is described in detail in <xref
                    linkend="Generating_Auth_Token"/>:</para>
            <example>
                <title>cURL Authenticate Request: XML</title>
                <?dbfo keep-together="always"?>
                <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
            </example>
            <para>You can see that the lines that are part of the cURL
                command syntax have all been escaped with a backslash
                ('\') to indicate that the command continues on the
                next line:</para>
            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
  
   
(... lines within the xml portion of the message are not shown in this example)
(... the example only shows lines that are part of cURL syntax)     
     

   
 &lt;/auth&gt;<option>'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
            <para>However the lines <emphasis>within</emphasis> the
                xml portion of the message are
                    <emphasis>not</emphasis> escaped with a backslash
                ('\') in order to avoid issues with the xml
                processing:</para>
            <screen language="bash">'&lt;?xml version="1.0" encoding="UTF-8"?>
 &lt;auth&gt;   
    &lt;apiKeyCredentials     
        xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"     
        username="<emphasis role="bold">your_username</emphasis>"     
        apiKey="<emphasis role="bold">your_api_key</emphasis>"/&gt;   
 &lt;/auth&gt;<option>'</option> \
</screen>
            <note>
                <para>The final line of the xml message is escaped
                    since the backslash lies
                        <emphasis>outside</emphasis> the xml message
                    and continues the cURL command to the next
                    line.</para>
            </note>
            <para>After you are finished modifying the text for the
                cURL request example with your information (for
                example <emphasis role="bold"
                        ><code>your_username</code></emphasis> and
                    <emphasis role="bold"
                    ><code>your_api_key</code></emphasis>), paste it
                into your terminal window. Then execute the cURL
                command by pressing <guilabel>Enter</guilabel>.</para>
            <para>If you have trouble copying and pasting the examples
                as described, try typing the entire example on one
                long line, removing all the backslash line
                continuation characters.</para>
        </section>
    </chapter>
    <chapter xml:id="Generating_Auth_Token">
        <title>Generate an Authentication Token</title>
        <para>You need to generate a token whether you use cURL or a
            ReST client.</para>
        <para>In order to use the ReST API, you will first need to
            obtain an authentication token, which will need to be
            passed in for each request using the
                <code>X-Auth-Token</code> header. </para>
        <para>The following example demonstrates how to use cURL to
            obtain the authentication token and the account number.
            You will need to supply the authentication token and
            account number when making subsequent &PRODNAME; API
            calls.</para>
        <para>Remember to replace the names in the Authenticate
            Request examples below with their respective
                values:<itemizedlist spacing="compact">
                <listitem>
                    <para><emphasis role="bold"
                            >your_username</emphasis> &mdash; The
                        username is your common Rackspace Cloud
                        username, as supplied during
                        registration.</para>
                </listitem>
                <listitem>
                    <para><emphasis role="bold"
                            >your_api_key</emphasis> &mdash; The key
                        is your API access key. The key can be
                        obtained from the Rackspace Cloud Control
                        Panel in the <guimenu>&lt;Your
                            Account></guimenu> / <guimenuitem>API
                            Keys</guimenuitem> section (login here:
                            <link
                            xlink:href="http://mycloud.rackspace.com/"
                            >Cloud Control Panel</link>).</para>
                </listitem>
            </itemizedlist></para>
        <para> You can use either of the following endpoints to access
            the Authentication Service, regardless of US or UK
            identities: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para><link xlink:href="&ENDPOINT-US-20;"
                        >&ENDPOINT-US-20;</link>
                </para>
            </listitem>
            <listitem>
                <para><link xlink:href="&ENDPOINT-UK-20;"
                        >&ENDPOINT-UK-20;</link></para>
            </listitem>
        </itemizedlist>
        <para> Your account may be based in either the US or the UK;
            this is not determined by your physical location but by
            the location of the Rackspace retail site which was used
            to create your account: </para>
        <itemizedlist spacing="compact">
            <listitem>
                <para> If your account was created via <link
                        xlink:href="http://www.rackspacecloud.com"
                        >http://www.rackspacecloud.com</link>, it is a
                    US-based account. </para>
            </listitem>
            <listitem>
                <para> If your account was created via <link
                        xlink:href="http://www.rackspace.co.uk"
                        >http://www.rackspace.co.uk</link>, it is a
                    UK-based account. </para>
            </listitem>
        </itemizedlist>
        <para>Notice that you authenticate using a special URL for
            Cloud authentication services. For example, you may use
                <code>https://identity.api.rackspacecloud.com/v2.0/tokens</code>,
            as shown in the following Authenticate Request examples.
            Note that the <code>v2.0</code> component in the URL
            indicates that you are using version 2.0 of the Cloud Auth
            API.</para>
        <example>
            <title>cURL Authenticate Request: XML</title>
            <?dbfo keep-together="always"?>
            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'&lt;?xml version="1.0" encoding="UTF-8"?>
&lt;auth>
   &lt;apiKeyCredentials
      xmlns="http://docs.rackspace.com/identity/api/ext/RAX-KSKEY/v1.0"
         username="<emphasis role="bold">your_username</emphasis>"
         apiKey="<emphasis role="bold">your_api_key</emphasis>"/>
&lt;/auth>' \
<option>-H 'Content-Type: application/xml'</option> \
<option>-H 'Accept: application/xml'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        </example>
        <example>
            <title>cURL Authenticate Request: JSON</title>
            <?dbfo keep-together="always"?>
            <screen language="bash"><command>curl</command> <option>-i</option> <option>-d</option> \
'{
    "auth":
    {
       "RAX-KSKEY:apiKeyCredentials":
       {
          "username": "<emphasis role="bold">your_username</emphasis>",
          "apiKey": "<emphasis role="bold">your_api_key</emphasis>"}
    }
}' \
<option>-H 'Content-Type: application/json'</option> \
<uri>'https://identity.api.rackspacecloud.com/v2.0/tokens'</uri></screen>
        </example>
        <note>
            <para>For UK-based accounts, you may decide to use
                    <code>'https://lon.identity.api.rackspacecloud.com/v2.0/tokens'</code>
                instead.</para>
        </note>
        <example>
            <title>Authenticate Response: XML</title>
            <programlisting language="xml"><xi:include href="../../src/resources/samples/auth-20.xml" parse="text"/></programlisting>
        </example>

        <example>
            <title>Authenticate Response: JSON</title>
            <programlisting language="json"><xi:include href="../../src/resources/samples/auth-20.json" parse="text"/></programlisting>
        </example>
        <para>The authentication token <code>id</code> is returned
            along with an <code>expires</code> attribute that
            specifies when the token expires. </para>
        <note>
            <title>Notes</title>
            <itemizedlist spacing="compact">
                <listitem>
                    <para>For all response examples in this guide, the
                        field values you receive in your responses
                        will vary from those shown here since they
                        will be specific to your account.</para>
                </listitem>
                <listitem>
                    <para>The information shown in the Authenticate
                        Response examples above is for US-based
                        accounts. If you authenticate against the
                        UK-endpoint for auth, you will see the service
                        catalog information for UK-based
                        accounts.</para>
                </listitem>
                <listitem>
                    <para>The <code>id</code> attribute in the
                        Authenticate Response specifies the
                        authentication token. Tokens are valid for a
                        finite duration.</para>
                    <para>Remember to supply your authentication token
                        wherever you see the field <emphasis
                            role="bold">your_auth_token</emphasis> in
                        the examples in this guide.</para>
                </listitem>
                <listitem>
                    <para> The <code>expires</code> attribute denotes
                        the time after which the token will
                        automatically become invalid. A token may be
                        manually revoked before the time identified by
                        the expires attribute; <code>expires</code>
                        predicts a token's maximum possible lifespan
                        but does not guarantee that it will reach that
                        lifespan. Clients are encouraged to cache a
                        token until it expires.</para>
                </listitem>
                <listitem>
                    <para>Applications should be designed to
                        re-authenticate after receiving a 401
                        (Unauthorized) response from a service
                        endpoint.</para>
                </listitem>
            </itemizedlist>
        </note>
        <para>The <code>publicURL</code> endpoints for &PRODNAME; (for
            example
                <code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/1100111</code>)
            are also returned in the response. </para>
        <para>You will find the actual account number after the final
            '/' in the <code>publicURL</code> field. In this example,
            you can see that the account number is 1100111. You need
            to specify your account number on most of the &PRODNAME;
            API calls, wherever you see the field <emphasis
                role="bold">your_acct_id</emphasis> specified in the
            examples in this guide.</para>
        <para>After authentication, you can use cURL to perform &GET;,
            &DELETE;, and &POST; requests for the &PRODNAME;
            API.</para>
    </chapter>
    <chapter xml:id="Service_Access_Endpoints-d1e753">
        <title>Service Access/Endpoints</title>
        <para>The endpoint to use for your &PRODNAME; API calls for
            the EA release is
                    <code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/<parameter>1234</parameter>/.</code></para>
 <!--       
        <para>
            <table rules="all">
                <caption>Regionalized Service Endpoints</caption>
                <thead>
                    <tr align="center">
                        <td colspan="2">Region</td>
                        <td colspan="5">Endpoint</td>
                    </tr>
                </thead>
                <tbody>
                    <tr align="left">
                        <td colspan="2">Chicago (ORD)</td>
                        <td colspan="5"
                                ><code>https://ord.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Dallas/Ft. Worth (DFW)</td>
                        <td colspan="5"
                                ><code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">London (LON)</td>
                        <td colspan="5">
                            <code>https://lon.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
                    </tr>
                    <tr align="left">
                        <td colspan="2">Sydney (SYD)</td>
                        <td colspan="5">
                            <code>https://syd.bigdata.api.rackspacecloud.com/v1.0/</code><parameter>1234</parameter>/ </td>
                    </tr>
                </tbody>
            </table>
        </para> -->
        <note>
            <para>All examples in this guide assume that you are
                operating against the DFW datacenter.</para> 
        </note>
        <para>Replace the sample account ID number,
                <parameter>1234</parameter>, with your actual account
            number returned as part of the authentication response.
            Use your actual account number wherever you see the field
                <emphasis role="bold">your_acct_id</emphasis>
            specified in this guide. Refer to <xref
                linkend="Generating_Auth_Token"/>.</para>
        <para>When making a &PRODNAME; API call, place the endpoint at
            the beginning of the request URL, for example:
                (<code>https://dfw.bigdata.api.rackspacecloud.com/v1.0/your_acct_id/</code>).</para>
    </chapter>
    <chapter xml:id="profileSetupView">
        <title>Setting Up and Viewing a Profile</title>
        <remark>Reviewer: Is there an API call to set up a Profile?
            I'm working from the Walk-thrus on the wiki and it
            includes this. But I see no corresponding API call in the
            current API specifications.</remark>
        <para>Before you can create Hadoop clusters, you need to
            create a profile, which consists of a username and
            password. </para>
        <para>After setting up your username and password, every
            Hadoop server you provision using the API will have a
            local user account  and the specified password. This
            allows you to remotely SSH into a server in order to
            transfer data, run or troubleshoot jobs, etc.</para>
        <para>A password must be at least 8 characters, with a mixture
            of uppercase, lowercase, numeric and special
            characters.</para>
        <para>The following example shows the cURL request to set up a
            profile:</para>
        <remark>Reviewer: If there is a Create Profile operation,
            please provide appropriate cURL request and response. </remark>
        <example>
            <title>cURL  Create Profile Request: JSON</title>
            <programlisting language="bash"><command>curl -i ???</command> </programlisting>
        </example>
        <para>The following example show the response for the profile
            request:</para>
        <example>
            <title> Create Profile Response: JSON</title>
            <programlisting language="json">???</programlisting>
        </example>
        <para>Anytime after your profile is created, you can view its
            details.  </para>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02"
                ><command>Get Profile</command> displays your profile
            details including your username, user ID, tenant ID, etc. </para>
        <informaltable rules="all"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <thead>
                <tr align="center">
                    <td colspan="1">Verb</td>
                    <td colspan="2">URI</td>
                    <td colspan="3">Description</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="1">&GET;</td>
                    <td colspan="2">/profile</td>
                    <td colspan="3">Returns detailed information for
                        the current user profile.</td>
                </tr>
            </tbody>
        </informaltable>
        <para>This operation does not require a request body.</para>
        <para>The following example shows the cURL request to view a
            profile:</para>
        <remark>Reviewer: Please provide appropriate cURL to produce
            the response given in this example.</remark>
        <example>
            <title>cURL  Get Profile Request: JSON</title>
            <programlisting>curl -i -X GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/profile -d  \
-H "X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>" \
-H "Accept: application/json"</programlisting>
        </example>
        <para>Remember to replace the names in the example above with
            their actual respective values for all the cURL examples
            in this guide:</para>
        <itemizedlist>
            <listitem>
                <para><emphasis role="bold">your_auth_token</emphasis>
                    &mdash; as returned in your authentication
                    response (see the response examples in <xref
                        linkend="Generating_Auth_Token"/>)</para>
            </listitem>
            <listitem>
                <para><emphasis role="bold">your_acct_id</emphasis>
                    &mdash; as returned in your authentication
                    response (must be replaced in the request
                    URL)</para>
            </listitem>
        </itemizedlist>
        <para>The following example shows the response for the profile
            request:</para>
        <example>
            <title> Get Profile Response: JSON</title>
            <programlisting language="json"> {"profile":
            { "username": "john.doe",
              "user_id" : "12346",
              "tenant_id" : "123456",
              "sshkeys": [{"name": "t@test"}],
              "cloudCredentials": {},
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/123456/profile"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/123456/profile"
                }
              ],
            }
        }</programlisting>
        </example>
    </chapter>
    
    <chapter xml:id="Create_DB_Instance">
            <title>Viewing Resource Limits</title>
            <para>Using Rackspace Cloud Big Data is subject to
            resource limits. You can view the limits associated with
            your account using <command>View Resource
            Limits</command>. </para>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02"
                ><command>View Resource Limits</command> displays the
            resource limits such as remaining node count, available
            RAM, and remaining disk space, for the user.</para>
        <informaltable rules="all"
            xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <thead>
                <tr align="center">
                    <td colspan="1">Verb</td>
                    <td colspan="2">URI</td>
                    <td colspan="3">Description</td>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td colspan="1">&GET;</td>
                    <td colspan="2">/limits</td>
                    <td colspan="3">Displays the resource limits for
                        the user.</td>
                </tr>
            </tbody>
        </informaltable>
        <para>This operation does not require a request body.</para>
        <para>The following example shows the cURL request to view
            resource limits:</para>
        <remark>Reviewer: Please provide appropriate cURL to produce
            the response given in this example.</remark>
        <example>
            <title>cURL View Resource Limits Request: JSON</title>
            <programlisting>curl -i -X GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/limits -d \
-H "X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>" \
-H "Accept: application/json" </programlisting>
        </example>
        <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
            following example shows the response:</para>
        <example xmlns:wadl="http://wadl.dev.java.net/2009/02">
            <title>View Resource Limits Response: JSON</title>
            <programlisting>        { "limits":
          { "absolute":
            {
              "disk": {
                "limit": 2000,
                "remaining": 2000
              },
              "nodeCount": {
                "limit": 5,
                "remaining": 5
              },
              "ram": {
                "limit": 25600,
                "remaining": 25600
              },
              "vcpus": {
                "limit": 5,
                "remaining": 5
              }
            },
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/limits",
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/limits",
                "rel": "bookmark"
              }
            ]
          }
        }</programlisting>
        </example>
        </chapter>
    <chapter xml:id="List_DBS_For_Instance">
        <title>Creating and Managing Hadoop Clusters</title>
        <para>Now you are ready to create and manage Hadoop clusters
            using the Rackspace Cloud Big Data API. </para>
        <section xml:id="createCluster">
            <title>Creating a Cluster  </title><para xmlns:wadl="http://wadl.dev.java.net/2009/02">This operation
                creates a new Hadoop cluster. After you submit the
                operation,  it will take a few minutes for the service
                to build and configure your cluster.</para>
            <informaltable rules="all"
                xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&POST;</td>
                        <td colspan="2">/clusters</td>
                        <td colspan="3">Create a new cluster.</td>
                    </tr>
                </tbody>
            </informaltable><para>The example below creates a 5-data node Hadoop cluster with the
                name slice.</para>
            <para><code>clusterType</code> must specify HADOOP_HDP1_1
                for now. <code>flavorID</code> specifies the RAM,
                virtual CPUs, and disk storage associated with each
                data node in your Hadoop cluster. </para>
            <para xmlns:wadl="http://wadl.dev.java.net/2009/02">The
                following examples show the cURL request and
                corresponding response for Create Cluster:</para>
            <remark>Reviewer: Please provide appropriate cURL to
                produce the response given in this example.</remark>
            <example xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <title>cURL Create Cluster Request: JSON</title>
                <programlisting>curl -i -X POST https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>clusters \
'{"cluster":
      { "name": "slice",
        "clusterType": "HADOOP_HDP1_1",
        "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
        "nodeCount": 5
      }
    }' \          
-H "X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>" \
-H "Accept: application/json"
                  </programlisting>
              
            </example>
            <example xmlns:wadl="http://wadl.dev.java.net/2009/02">
                <title>Create Cluster Response: JSON</title>
                <programlisting>    {"cluster":
      { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
        "created": "2012-12-27T10:10:10Z",
        "updated": "",
        "name": "slice",
        "clusterType": "HADOOP_HDP1_1",
        "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
        "nodeCount": 5,
        "status": "BUILD",
        "links": [
          { "rel": "self",
            "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
          },
          { "rel": "bookmark",
            "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
          }
        ],
      }
    }</programlisting>
 
            </example>   
        </section>
        <section xml:id="listFlavors">
            <title>Listing Flavors</title>
            <para>A flavor is an available hardware configuration for
                a cluster. Each flavor has a unique combination of
                memory capacity and priority for CPU time. The larger
                the flavor size you use, the larger the amount of RAM
                and priority for CPU time your cluster will
                receive</para>
            <para>You need to use the <command>List Flavors</command>
                API call ( /flavors ) to find the available
                configurations for your cluster, and then decide which
                size you need.</para>
            <para>This operation does not require a request
                body.</para>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&GET;</td>
                        <td colspan="2">/flavors</td>
                        <td colspan="3">List all available flavors.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>This operation does not require a request
                body.</para>
            <para>The following example shows the cURL request for
                    <command>List Flavors</command>:</para>
            <remark>Reviewer: Please provide appropriate cURL to
                produce the response given in this example.</remark>
            <example>
                <title>cURL List Flavors Request: JSON</title>
                <programlisting>curl -i -X GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/flavors -d \
-H "X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>" \
-H "Accept: application/json"</programlisting>
            </example>
            <para>The following example shows the response for
                    <command>List Flavors</command>:</para>
            <example>
                <title>List Flavors Response: JSON</title>
                <programlisting>        { "flavors": [
          {
            "disk": 256,
            "id": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/4fba3bca-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Tiny Hadoop Instance",
            "ram": 5120,
            "vcpus": 1
          },
          {
            "disk": 512,
            "id": "518400b2-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/518400b2-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/518400b2-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Small Hadoop Instance",
            "ram": 8192,
            "vcpus": 2
          },
          {
            "disk": 1024,
            "id": "5413894c-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/5413894c-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Medium Hadoop Instance",
            "ram": 15360,
            "vcpus": 4
          },
          {
            "disk": 2000,
            "id": "559dd2b8-7c76-11e2-b737-beeffa00040e",
            "links": [
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "self"
              },
              { "href": "http://dfw.bigdata.api.rackspacecloud.com/1234/flavors/559dd2b8-7c76-11e2-b737-beeffa00040e", 
                "rel": "bookmark"
              }
            ],
            "name": "Large Hadoop Instance",
            "ram": 27648,
            "vcpus": 8
          }
        ] }</programlisting>

            </example> 
        </section>
        <section xml:id="viewDetails">
            <title>Viewing Details</title>
            <para><command>Get Node Details</command> lists all server
                nodes for the specified cluster.</para>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&GET;</td>
                        <td colspan="2">/clusters/{id}/nodes</td>
                        <td colspan="3">List all nodes for a cluster.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>The cluster has a NAMENODE and a GATEWAY node in
                addition to DATANODEs. A server has a private IP
                address, which is used for backend (Hadoop) data
                transfer, and a public IP, which allows you to access
                it over the public internet. Use the gateway node to
                do your work, including using tools such as Pig and
                Hive. In the example, you can remotely SSH into the
                gateway node over the IP address, using the username
                and the password you added to your profile during
                setup.</para>
            <para>This operation does not have a request body.</para>
            <para>The following example show the cURL request and
                corresponding response to List all Nodes for a
                Cluster:</para>
            <remark>Reviewer: Please provide appropriate cURL to
                produce the response given in this example.</remark>
            <example>
                <title>cURL List Cluster Nodes Request: JSON</title>
                <programlisting>curl -i -X GET https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_acct_id</emphasis>/clusters/ac111111-2d86-4597-8010-cbe787bbbc41/nodes -d \
-H "X-Auth-Token: <emphasis role="bold">your_auth_token</emphasis>" \
-H "Accept: application/json" \
-H "Content-Type: application/json"</programlisting>
            </example>
            <example>
                <title>List Cluster Nodes Response: JSON</title>
                <programlisting>        {"nodes":
          [ 
            { "id": "000",
              "created": "2012-12-27T10:10:10Z", 
              "role": "NAMENODE",
              "name": "NAMENODE-1", 
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.3", "version": 4 }],
                "private": [{ "addr": "10.x.x.3", "version": 4}]
              },
              "services": [
                { "name": "namenode" },
                { "name": "jobtracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.3"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/000"
                }
              ],
            },
            { "id": "aaa",
              "role": "GATEWAY",
              "name": "GATEWAY-1", 
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.4", "version": 4 }],
                "private": [{ "addr": "10.x.x.4", "version": 4}]
              },
              "services": [
                { "name": "pig" },
                { "name": "hive" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.4"
                },
                { "name": "status",
                  "uri": "http://10.x.x.4"
                },
                { "name": "hdfs-scp",
                  "uri": "scp://user@168.x.x.4:9022"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/aaa"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/aaa"
                }
              ],
            },
            { "id": "bbb",
              "role": "DATANODE",
              "name": "DATANODE-1",  
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.5", "version": 4 }],
                "private": [{ "addr": "10.x.x.5", "version": 4}]
              },
              "services": [
                { "name": "datanode" },
                { "name": "tasktracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.5"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/bbb"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/bbb"
                }
              ],
            },
            { "id": "ccc",
              "role": "DATANODE",
              "name": "DATANODE-2",  
              "status": "ACTIVE",
              "addresses": {
                "public": [{ "addr": "168.x.x.6", "version": 4 }],
                "private": [{ "addr": "10.x.x.6", "version": 4}]
              },
              "services": [
                { "name": "datanode" },
                { "name": "tasktracker" },
                { "name": "ssh",
                  "uri": "ssh://user@168.x.x.6"
                }
              ],
              "links": [
                { "rel": "self",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/ccc"
                },
                { "rel": "bookmark",
                  "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41/nodes/ccc"
                }
              ],
            } 
          ]
        }</programlisting>
 
            </example> <para/>
        </section>
        <section xml:id="resizeClusters">
            <title>Resizing Clusters</title>
            <para>You can increase the size of an existing cluster
                using the resize command. Downsizing clusters is not
                currently supported. </para>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&POST;</td>
                        <td colspan="2">/clusters/{clusterId}/action</td>
                        <td colspan="3">Resizes a cluster.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>The following example resizes the previously created
                cluster slice to include 10 data nodes.  Note that 10
                is the total number of data nodes in the cluster, not
                the additional number of nodes. After you initiate the
                resize operation, you can use <command>List Cluster
                    Nodes</command> to confirm that your cluster has
                been resized.</para>
            <remark>Reviewer: Please provide appropriate cURL to
                produce the response given in this example.</remark>
            <para>The following examples show the cURL request and
                corresponding response to resize a  cluster:</para>
            <example>
                <title>cURL Resize Cluster Request: JSON</title>
                <programlisting>curl -i -X POST https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_account_ID</emphasis>/clusters/<emphasis role="bold">your_cluster_ID</emphasis>/resize -d \
'{"resize":{ "nodeCount": 10 }} ' \
-H "Accept: application/json" \
-H "X-Auth-Token:<emphasis role="bold">your_auth_token</emphasis>" \
-H "Content-Type: application/json"  
</programlisting>
            </example>
            <example>
                <title>Resize Cluster Response: JSON</title>
                <programlisting>        {"cluster":
          { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
            "created": "2012-12-27T10:10:10Z",
            "updated": "2012-12-27T16:20:10Z",
            "name": "slice",
            "clusterType": "HADOOP_HDP1_1",
            "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "nodeCount": 10,
            "status": "RESIZING",
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              }
            ],
          }
        } </programlisting>
     
            </example>
        </section>
        <section xml:id="deleteCluster">
            <title>Deleting Clusters</title>
            <para>Use <command>Delete Cluster</command> to remove
                unused Hadoop clusters. This gets rid of any servers
                associated with the cluster and any data stored in
                it.</para>
            <para> You cannot delete clusters that are in the process
                of being created or resized.</para>
            <informaltable rules="all">
                <thead>
                    <tr align="center">
                        <td colspan="1">Verb</td>
                        <td colspan="2">URI</td>
                        <td colspan="3">Description</td>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td colspan="1">&DELETE;</td>
                        <td colspan="2">/clusters/{id}</td>
                        <td colspan="3">Deletes a cluster.</td>
                    </tr>
                </tbody>
            </informaltable>
            <para>The following examples show the cURL request and
                corresponding response to delete a cluster:</para>
            <remark>Reviewer: Please provide appropriate cURL to
                produce the response given in this example.</remark>
            <example>
                <title>cURL Delete Cluster Request: JSON</title>
                <programlisting>curl -i -X DELETE https://dfw.bigdata.api.rackspacecloud.com/v1.0/<emphasis role="bold">your_account_ID</emphasis>/clusters/<emphasis role="bold">your_cluster_ID</emphasis> -d \
-H "Accept: application/json" \
-H "X-Auth-Token:<emphasis role="bold">your_auth_token</emphasis>" \
-H "Content-Type: application/json"</programlisting>
            </example>
            <example>
                <title>Delete Cluster Response: JSON</title>
                <programlisting>Status: 202 Accepted
        Date: Mon, 06 Aug 2012 21:54:21 GMT
        Content-Type: application/json
        {"cluster":
          { "id": "db478fc1-2d86-4597-8010-cbe787bbbc41",
            "created": "2012-12-27T10:10:10Z",
            "updated": "2012-12-27T20:14:10Z",
            "name": "slice",
            "clusterType": "HADOOP_HDP1_1",
            "flavorId": "4fba3bca-7c76-11e2-b737-beeffa00040e",
            "nodeCount": 5,
            "status": "DELETING",
            "links": [
              { "rel": "self",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/v1.0/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              },
              { "rel": "bookmark",
                "href": "https://dfw.bigdata.api.rackspacecloud.com/1234/clusters/db478fc1-2d86-4597-8010-cbe787bbbc41"
              }
            ]
          }
        }
</programlisting>
             
            </example>
        </section>
    </chapter>
    <chapter xml:id="List_Users_DB_Instance">
        <title>Additional Resources</title>
        <para>Using this guide with the <citetitle>Cloud Big Data
                Developer Guide</citetitle>, you can get started using
            the Cloud Bid Data API whenever you'd like. The
                <citetitle>Cloud Big Data Developer Guide</citetitle>
            provides information about all Cloud Big Data API
            operations. Refer to this guide at  <link
                xlink:href="http://docs-internal.rackspace.com/"
                >http://docs-internal.rackspace.com/</link></para>
        <para>Please visit our <link
                xlink:href="http://feedback.rackspace.com/forums/71021-product-feedback/category/6841-cloud-sites"
                >Product Feedback Forum</link> and let us know what
            you think about Cloud Big Data.</para>
        <para>For more details about Rackspace &PRODNAME;, refer to
                <link
                xlink:href="http://www.rackspace.com/cloud/cloud_hosting_products/databases/"
                >http://www.rackspace.com/cloud/cloud_hosting_products/databases/</link>.
            This site also offers links to Rackspace's official
            support channels, including knowledge center articles,
            forums, phone, chat, and email. </para>
        <para>Please visit our <link
                xlink:href="http://feedback.rackspacecloud.com/forums/71021-product-feedback/category/42449-cloud-databases"
                >Product Feedback Forum</link> and let us know what
            you think about &PRODNAME;.</para>
        <para>This API uses standard HTTP 1.1 response codes as
            documented at: <link
                xlink:href="http://www.w3.org/Protocols/rfc2616/rfc2616-sec10.html"
                >www.w3.org/Protocols/rfc2616/rfc2616-sec10.html</link>. </para>
    </chapter>
</book>
